msgid ""
msgstr ""
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: doc-l10n-kit"

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:38
#, no-wrap
msgid "class LoggingCloudwatchProcessor {\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:43
#, no-wrap
msgid ""
"    @BuildStep\n"
"    FeatureBuildItem feature() {\n"
"        return new FeatureBuildItem(\"logging-cloudwatch\");\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:51
#, no-wrap
msgid ""
"    @BuildStep\n"
"    @Record(ExecutionTime.RUNTIME_INIT)\n"
"    LogHandlerBuildItem addCloudwatchLogHandler(final LoggingCloudWatchConfig config,\n"
"            final LoggingCloudWatchHandlerValueFactory cloudWatchHandlerValueFactory) {\n"
"        return new LogHandlerBuildItem(cloudWatchHandlerValueFactory.create(config));\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:59
#, no-wrap
msgid ""
"@ConfigRoot(phase = ConfigPhase.RUN_TIME, name = \"log.cloudwatch\")\n"
"public class LoggingCloudWatchConfig {\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:62
#, no-wrap
msgid ""
"    @ConfigItem(defaultValue = \"true\")\n"
"    boolean enabled;\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:65
#, no-wrap
msgid ""
"    @ConfigItem\n"
"    public String region;\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:68
#, no-wrap
msgid ""
"    // ...\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:79
#, no-wrap
msgid ""
"@Recorder\n"
"public class LoggingCloudWatchHandlerValueFactory {\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:84
#, no-wrap
msgid ""
"    public RuntimeValue<Optional<Handler>> create(final LoggingCloudWatchConfig config) {\n"
"        if (!config.enabled) {\n"
"            return new RuntimeValue<>(Optional.empty());\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:87
#, no-wrap
msgid ""
"        AWSLogsClientBuilder clientBuilder = AWSLogsClientBuilder.standard();\n"
"        clientBuilder.setCredentials(new CloudWatchCredentialsProvider(config));\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:89
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:93
#, no-wrap
msgid "        // …\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:91
#, no-wrap
msgid "        AWSLogs awsLogs = clientBuilder.build();\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:97
#, no-wrap
msgid ""
"        LoggingCloudWatchHandler handler = new LoggingCloudWatchHandler(awsLogs, config.logGroup.get(),\n"
"                config.logStreamName.get(), token);\n"
"        // …\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:101
#, no-wrap
msgid ""
"        return new RuntimeValue<>(Optional.of(handler));\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:111
#, no-wrap
msgid "class LoggingCloudWatchHandler extends Handler {\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:116
#, no-wrap
msgid ""
"    private AWSLogs awsLogs;\n"
"    private String logStreamName;\n"
"    private String logGroupName;\n"
"    private String sequenceToken;\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:118
#, no-wrap
msgid "    // ...\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:125
#, no-wrap
msgid ""
"    LoggingCloudWatchHandler(AWSLogs awsLogs, String logGroup, String logStreamName, String token) {\n"
"        this.logGroupName = logGroup;\n"
"        this.awsLogs = awsLogs;\n"
"        this.logStreamName = logStreamName;\n"
"        this.sequenceToken = token;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:128
#, no-wrap
msgid ""
"    @Override\n"
"    public void publish(LogRecord record) {\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:130
#, no-wrap
msgid "        // ...\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:137
#, no-wrap
msgid ""
"        InputLogEvent logEvent = new InputLogEvent()\n"
"                .withMessage(body)\n"
"                .withTimestamp(System.currentTimeMillis());\n"
"        awsLogs.putLogEvents(request);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ==
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:152
#, no-wrap
msgid "Summary"
msgstr "まとめ"

#. type: Title ==
#: upstream/_posts/2022-01-03-quarkus-aws-cloudwatch_extension.adoc:161
#, no-wrap
msgid "Links"
msgstr "リンク"
