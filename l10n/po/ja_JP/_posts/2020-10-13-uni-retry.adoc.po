msgid ""
msgstr ""
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: doc-l10n-kit"

#. type: YAML Front Matter
#: upstream/_posts/2020-10-13-uni-retry.adoc:2
msgid "post"
msgstr "post"

#. type: YAML Front Matter
#: upstream/_posts/2020-10-13-uni-retry.adoc:3
#, fuzzy
msgid "Mutiny - How does retry... retries?"
msgstr "Mutiny - リトライ...再試行ってどうやるの？"

#. type: YAML Front Matter
#: upstream/_posts/2020-10-13-uni-retry.adoc:4
#, fuzzy
msgid "2020-10-13"
msgstr "2020-10-13"

#. type: YAML Front Matter
#: upstream/_posts/2020-10-13-uni-retry.adoc:5
#, fuzzy
msgid "reactive mutiny retry"
msgstr "反応性mutinyの再試行"

#. type: YAML Front Matter
#: upstream/_posts/2020-10-13-uni-retry.adoc:6
#, fuzzy
msgid "How does `retry` actually work?"
msgstr "`retry` 、実際はどうなのでしょうか？"

#. type: YAML Front Matter
#: upstream/_posts/2020-10-13-uni-retry.adoc:7
msgid "cescoffier"
msgstr "cescoffier"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:10
#, fuzzy
msgid ""
"Last week, David, a Quarkus user, asked me about retrying an asynchronous operation.\n"
"David has a _picky_ remote HTTP service, which sometimes misbehaves.\n"
"Easy answer!\n"
"Just do: `uni.onFailure().retry().atMost(x)`.\n"
"But, David is curious, and asked me a second question: how does retry work?\n"
"Well, that’s simple; it just retries...\n"
"As you can imagine, that did not satisfy David’s curiosity."
msgstr "先週、QuarkusユーザーのDavidから、非同期操作の再試行について質問を受けました。Davidは、リモートHTTPサービスを使用していて、時々 _誤動作を_ 起こすことがあります。簡単な答えです！ `uni.onFailure().retry().atMost(x)` を実行するだけです。しかし、Davidは好奇心旺盛で、2つ目の質問をしてきました。まあ、それは簡単です。ただ再試行するだけです...想像できるように、それはDavidの好奇心を満たすものではありませんでした。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:18
#, fuzzy
msgid ""
"While I was answering to David, I realized that retrying is not that simple and deserves more explanation.\n"
"That’s what we are going to see in this blog post."
msgstr "Davidに答えているうちに、リトライはそれほど単純ではなく、もっと説明が必要なことに気づきました。それがこのブログ記事で見ることになるものです。"

#. type: Title ==
#: upstream/_posts/2020-10-13-uni-retry.adoc:21
#, fuzzy
msgid "Disclaimer about retries"
msgstr "リトライに関する免責事項"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:23
#, fuzzy
msgid ""
"Okay, if you are the kind of reader who skips the terms and conditions, you can jump to the next section.\n"
"But, for others, I need to warn you about retries.\n"
"Retries may not be the solution to your problem, as it can be terrible.\n"
"Retrying can only be done if your system can handle duplicated requests or messages.\n"
"In other words, you can only retry if your system is idempotent, i.e., sending a request or a message multiple times does not change the overall state.\n"
"In doubt, check before implementing a retry, as it can harm your system."
msgstr "さて、もしあなたが利用規約を読み飛ばすような読者であれば、次のセクションにジャンプしてください。しかし、他の人のために、リトライについて警告しておく必要があります。リトライは、あなたの問題の解決にはならないかもしれません、ひどいことになりますから。再試行は、あなたのシステムが重複したリクエストやメッセージを処理できる場合にのみ行うことができます。言い換えれば、システムが冪等である場合、つまり、リクエストやメッセージを複数回送っても全体の状態が変化しない場合にのみ、再試行が可能です。疑わしい場合は、再試行を実施する前に確認してください。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:30
#, fuzzy
msgid "Disclaimer said! Let’s look under the hood of retry."
msgstr "と免責事項がありました！リトライのフードを覗いてみましょう。"

#. type: Title ==
#: upstream/_posts/2020-10-13-uni-retry.adoc:32
#, fuzzy
msgid "Retry is about resubscribing"
msgstr "リトライとは再購読のこと"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:34
#, fuzzy
msgid "Let’s imagine you have a `Uni` representing your asynchronous action, like in David’s case, an invocation of a remote service:"
msgstr "例えば、Davidの場合、リモートサービスの呼び出しのような非同期アクションを表す `Uni` があるとしましょう："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:41
#, fuzzy
msgid ""
"Unis are lazy.\n"
"Until someone subscribes to them, nothing happens.\n"
"In our case, the request is only sent to the remote service when someone subscribes to the `uni`.\n"
"So to execute the request, we need to subscribe:"
msgstr "ユニは怠け者です。誰かが購読するまでは、何も起こりません。この場合、誰かが `uni` を購読したときだけ、リクエストはリモートサービスに送信されます。 つまり、リクエストを実行するには、購読する必要があるのです："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:55
#, fuzzy
msgid ""
"In Quarkus, most of the time, you return the `Uni`, and Quarkus subscribes to it.\n"
"So, don't be mistaken, there is a subscription, you may not see it."
msgstr "Quarkusでは、ほとんどの場合、あなたが `Uni` 、Quarkusがそれを購読します。ですから、誤解しないでください、購読はあります、あなたはそれを見ないかもしれません。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:58
#, fuzzy
msgid ""
"This laziness is the retry secret.\n"
"In the following sequence diagram, you can see that the request is sent when we get a subscriber:"
msgstr "この怠慢がリトライの秘密です。以下のシーケンス図では、サブスクライバーを獲得したときにリクエストを送信していることがわかります："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:61
#, fuzzy
msgid "image:/assets/images/posts/mutiny-retry/subscription.png[]"
msgstr "image:/assets/images/posts/mutiny-retry/subscription.png[alt=\"subscription\"]"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:64
#, fuzzy
msgid "An interesting consequence of this is that if you subscribe twice, you emit two requests, and so get two responses:"
msgstr "このことの興味深い帰結は、2回サブスクライブすると、2つのリクエストを発することになり、2つのレスポンスを得ることができるということです："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:66
#, fuzzy
msgid "image:/assets/images/posts/mutiny-retry/double-subscription.png[]"
msgstr "image:/assets/images/posts/mutiny-retry/double-subscription.png[alt=\"double subscription\"]"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:68
#, fuzzy
msgid ""
"But let’s go back to retry.\n"
"What’s a retry?\n"
"A retry is a reaction to a failure, so you are going to write: `uni.onFailure().retry()`.\n"
"You also need to indicate how long do you want to retry:"
msgstr "しかし、リトライに話を戻そう。リトライって何？リトライとは、失敗に対するリアクションのことで、 `uni.onFailure().retry()` と書くことになります。また、どれくらいの時間リトライするのかを示す必要があります："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:82
#, fuzzy
msgid "In this snippet, we retry _indefinitely_ until we get a successful result."
msgstr "このスニペットでは、成功する結果が得られるまで、 _無限に_ リトライしています。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:84
#, fuzzy
msgid ""
"But, how does it work under the hood?\n"
"It’s quite simple.\n"
"If it gets a failure, it just re-subscribes:"
msgstr "でも、その中身はどうなっているのでしょう？それはとてもシンプルです。失敗したら、再登録するだけです："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:88
#, fuzzy
msgid "image:/assets/images/posts/mutiny-retry/retry.png[]"
msgstr "image:/assets/images/posts/mutiny-retry/retry.png[alt=\"retry\"]"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:90
#, fuzzy
msgid ""
"It resubscribes until it gets a successful response.\n"
"In other words, retrying is resubscribing."
msgstr "成功した応答が得られるまで再受信する。つまり、再試行とは再購読のことです。"

#. type: Title ==
#: upstream/_posts/2020-10-13-uni-retry.adoc:93
#, fuzzy
msgid "How many times should I retry?"
msgstr "何回リトライすればいいですか？"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:95
#, fuzzy
msgid ""
"That’s always a good question.\n"
"Should I retry _indefinitely_?\n"
"Most probably, not.\n"
"Indefinitely can be very long, and it could never end if the called service fails continuously."
msgstr "それは常に良い質問です。 _無期限で_ リトライすべきなのか？おそらく、そうではないでしょう。無限にというのは非常に長くなり、呼び出されたサービスが連続して失敗した場合、永遠に終わらない可能性があります。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:100
#, fuzzy
msgid "You can configure the number of retries using `atMost`:"
msgstr "リトライ回数は、 `atMost` を使って設定することができます："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:112
#, fuzzy
msgid ""
"`atMost` indicates that at most `n` attempts will be done before failing.\n"
"If we still get a failure after that number of resubscription, the last failure is sent to the subscriber."
msgstr "`atMost` は、失敗するまでに最大で 。その回数再サブスクリプションを試みてもまだ失敗する場合、最後の失敗がサブスクライバーに送られる。 `n` "

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:115
#, fuzzy
msgid "image:/assets/images/posts/mutiny-retry/retry-failed.png[]"
msgstr "image:/assets/images/posts/mutiny-retry/retry-failed.png[alt=\"retry failed\"]"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:117
#, fuzzy
msgid "You can also use `until` and decide to retry by looking at the received failure:"
msgstr "また、 `until` 、受信した失敗を見てリトライを判断することもできる："

#. type: Title ==
#: upstream/_posts/2020-10-13-uni-retry.adoc:125
#, fuzzy
msgid "Bonus: Exponential backoff"
msgstr "ボーナス：エクスポネンシャル・バックオフ"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:127
#, fuzzy
msgid ""
"So far, our retries happen immediately.\n"
"It might not be very wise, and separating a bit our retries may give better results, especially when facing intermittent failures due to the load or other external causes.\n"
"Using exponential backoff provides a reasonable tradeoff.\n"
"Retrying with exponential backoff:"
msgstr "これまでのところ、リトライは即座に行われている。これはあまり賢明ではないかもしれない。リトライを少し区切ることで、特に負荷やその他の外的要因による断続的な失敗に直面したときに、より良い結果が得られるかもしれない。指数関数的バックオフを使うことで、合理的なトレードオフが可能になる。指数関数的バックオフによる再試行"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:132
#, fuzzy
msgid "retries after an initial delay,"
msgstr "最初の遅延の後、再試行する、"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:133
#, fuzzy
msgid "on every failure, it doubles the previous delay, with an optional maximum,"
msgstr "失敗するたびに、それまでの遅延の2倍（最大値は任意）、"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:134
#, fuzzy
msgid "it can use a jitter to add a random duration to the delay,"
msgstr "ジッターを使用して、遅延にランダムな時間を加えることができる、"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:135
#, fuzzy
msgid "it can have a max delay if needed,"
msgstr "必要であれば、最大ディレイも可能だ、"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:136
#, fuzzy
msgid "it is still constrained by `atMost`"
msgstr "に制約される。 `atMost`"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:145
#, fuzzy
msgid ""
"This last snippet configures the retry with exponential backoff.\n"
"The first retry happens after 1 second, and then it doubles every time without an upper limit.\n"
"Random jitter is applied to delays.\n"
"If, unfortunately, after ten attempts, it still fails, the failure is sent to the subscriber."
msgstr "この最後のスニペットは、指数関数的なバックオフで再試行を設定します。最初のリトライは1秒後に行われ、その後は上限なく毎回2倍になります。遅延にはランダムジッターが適用されます。残念ながら、10回試しても失敗した場合、その失敗が加入者に送信されます。"

#. type: Title ==
#: upstream/_posts/2020-10-13-uni-retry.adoc:150
#, fuzzy
msgid "Demo time!"
msgstr "デモの時間だ！"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:152
#, fuzzy
msgid ""
"Ok, enough talking.\n"
"I’ve built a simple playground where you can adjust and try the various retry policies: https://gist.github.com/cescoffier/e9abce907a1c3d05d70bea3dae6dc3d5.\n"
"You can _jbang_ the script by downloading it and running `jbang Retry.java`, or just run:"
msgstr "さて、話はここまで。私は、様々な再試行ポリシーを調整し試すことができる簡単なプレイグラウンドを link:https://gist.github.com/cescoffier/e9abce907a1c3d05d70bea3dae6dc3d5[作りました: https://gist.github.com/cescoffier/e9abce907a1c3d05d70bea3dae6dc3d5.] スクリプトをダウンロードし、 `jbang Retry.java` を実行することで _jbangする_ こともできますし、単に実行することもできます："

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:161
#, fuzzy
msgid "The called service fails 50% of the time (well, it uses a random, so statistically 50% of the time)."
msgstr "呼び出されたサービスは50％の確率で失敗します（まあ、ランダムを使うので統計的には50％ですが）。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:163
#, fuzzy
msgid ""
"That concludes this blog post.\n"
"Again, before using retry, please verify that your system can support it.\n"
"Retrying is resubscribing.\n"
"You can configure how long, how many times, and when retrying should be attempted.\n"
"There are many more options offered by Mutiny, like `when` or using deadlines (`expireIn` and `expireAt`) when using exponential backoff.\n"
"You can try all these with the provided playground."
msgstr "以上で、このブログ記事を終了します。繰り返しになりますが、リトライを使用する前に、お使いのシステムがリトライに対応できるかどうか確認してください。リトライとは再加入のことです。リトライを試みる期間、回数、タイミングを設定することができます。Mutinyが提供するオプションは他にもたくさんあります。例えば、 `when` 、指数バックオフを使用する際にデッドライン( `expireIn` と `expireAt` )を使用します。提供されているプレイグラウンドで、これらすべてを試すことができます。"

#. type: Plain Text
#: upstream/_posts/2020-10-13-uni-retry.adoc:170
#, fuzzy
msgid "Stay tuned! We have plenty of other gems to discuss here!"
msgstr "ご期待ください！この他にも珠玉の作品をたくさんご紹介しています！"
