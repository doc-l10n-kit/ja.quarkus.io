msgid ""
msgstr ""
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: doc-l10n-kit"

#. type: Title =
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:7
#, fuzzy
msgid "Use virtual threads in REST applications"
msgstr "RESTアプリケーションで仮想スレッドを使用する"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:13
#, fuzzy
msgid ""
"In this guide, we see how you can use virtual threads in a REST application.\n"
"Because virtual threads are all about I/O, we will also use the REST client."
msgstr "このガイドでは、RESTアプリケーションで仮想スレッドを使用する方法を説明します。仮想スレッドは I/O に関するものなので、REST クライアントも使います。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:16
msgid "Prerequisites"
msgstr "前提条件"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:20
msgid "Architecture"
msgstr "アーキテクチャ"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:22
#, fuzzy
msgid ""
"The application built into this guide is quite simple.\n"
"It calls a weather service for two cities (Valence, France, and Athens, Greece) and decides the best place based on the current temperature."
msgstr "このガイドに組み込まれているアプリケーションは非常にシンプルだ。2つの都市（フランスのヴァランスとギリシャのアテネ）の気象サービスを呼び出し、現在の気温に基づいて最適な場所を決定する。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:26
msgid "Create the Maven project"
msgstr "Maven プロジェクトの作成"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:28
msgid "First, we need a new project. Create a new project with the following command:"
msgstr "まず、新しいプロジェクトが必要です。以下のコマンドで新規プロジェクトを作成します。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:34
#, fuzzy
msgid ""
"This command generates a new project importing the RESTEasy Reactive, Reactive REST client, and https://github.com/FasterXML/jackson[Jackson] extensions,\n"
"and in particular, adds the following dependencies:"
msgstr "このコマンドは、RESTEasy Reactive、Reactive REST クライアント、および link:https://github.com/FasterXML/jackson[Jackson] 拡張機能をインポートする新しいプロジェクトを生成し、特に以下の依存関係を追加します："

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:38
msgid "pom.xml"
msgstr "pom.xml"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:51
msgid "build.gradle"
msgstr "build.gradle"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:59
#, fuzzy
msgid ""
"You might wonder why we use _reactive_ extensions.\n"
"Virtual threads have limitations, and we can only integrate them properly when using the reactive extensions.\n"
"No worries: your code will be written 100% in a synchronous / imperative style."
msgstr "なぜ _リアクティブ・エクステンションを_ 使うのか不思議に思うかもしれない。仮想スレッドには限界があり、リアクティブ・エクステンションを使用して初めて適切に統合できるのです。ご心配なく：あなたのコードは100％同期／命令型スタイルで書かれます。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:63
#, fuzzy
msgid "Check the xref:./virtual-threads.adoc#why-not[virtual thread reference guide] for details."
msgstr "詳しくは xref:./virtual-threads.adoc#why-not[仮想スレッドリファレンスガイドを] ご確認ください。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:66
#, fuzzy
msgid "Prepare the `pom.xml` file"
msgstr "`pom.xml` ファイルの準備"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:68
#, fuzzy
msgid "We need to customize the `pom.xml` file to use virtual threads."
msgstr "仮想スレッドを使うためには、 `pom.xml` ファイルをカスタマイズする必要がある。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:70
#, fuzzy
msgid "1) Locate the line with `<maven.compiler.release>17</maven.compiler.release>`, and replace it with:"
msgstr "1) `<maven.compiler.release>17</maven.compiler.release>` のラインを探し、次のように置き換える："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:77
#, fuzzy
msgid "2) In the maven-compiler-plugin configuration, add the `--enable-preview` arg (only if you use Java 19 or Java 20)"
msgstr "2) maven-compiler-pluginの設定で、 `--enable-preview` argを追加する（Java 19またはJava 20を使用している場合のみ）。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:93
#, fuzzy
msgid "3) In the maven-surefire-plugin and maven-failsafe-plugin configurations, add the following `argLine` parameter:"
msgstr "3) maven-surefire-pluginおよびmaven-failsafe-plugin構成で、次の `argLine` パラメータを追加します："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:131
#, fuzzy
msgid "The `-Djdk.tracePinnedThreads` will detect pinned carrier threads while running tests (See xref:./virtual-threads.adoc#pinning[the virtual thread reference guide for details])."
msgstr "`-Djdk.tracePinnedThreads` は、テスト実行中にピン留めされたキャリアスレッドを検出します（ xref:./virtual-threads.adoc#pinning[詳細については、仮想スレッドリファレンスガイドを] 参照してください）。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:134
#, fuzzy
msgid "--enable-preview and Java 21"
msgstr "--プレビューの有効化とJava 21"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:136
#, fuzzy
msgid "The `--enable-preview` flag is only required if you use Java 19 or 20."
msgstr "`--enable-preview` フラグは、Java 19または20を使用している場合にのみ必要です。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:139
#, fuzzy
msgid "Create the weather client"
msgstr "天気予報クライアントの作成"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:141
#, fuzzy
msgid ""
"This section is not about virtual threads.\n"
"Because we need to do some I/O to demonstrate virtual threads usage, we need a client doing I/O operations.\n"
"In addition, the reactive REST client is virtual thread friendly: it does not pin and handle propagation correctly."
msgstr "このセクションは仮想スレッドに関するものではない。仮想スレッドの使い方を実証するためにI/Oを行う必要があるため、I/O操作を行うクライアントが必要だからだ。さらに、リアクティブRESTクライアントは仮想スレッドに優しい。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:145
#, fuzzy
msgid "Create the `src/main/java/org/acme/WeatherService.java` class with the following content:"
msgstr "以下の内容で `src/main/java/org/acme/WeatherService.java` クラスを作成する："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:175
#, fuzzy
msgid ""
"This class models the HTTP interaction with the weather service.\n"
"Read more about the rest client in the dedicated xref:./rest-client-reactive.adoc[guide]."
msgstr "このクラスはウェザー・サービスとのHTTPインタラクションをモデル化します。残りのクライアントについては、専用の xref:./rest-client-reactive.adoc[ガイドを] 参照してください。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:178
#, fuzzy
msgid "Create the HTTP endpoint"
msgstr "HTTPエンドポイントの作成"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:180
#, fuzzy
msgid "Now, create the `src/main/java/org/acme/TheBestPlaceToBeResource.java` class with the following content:"
msgstr "次に、以下の内容で `src/main/java/org/acme/TheBestPlaceToBeResource.java` ："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:219
#, fuzzy
msgid "Instructs Quarkus to invoke this method on a virtual thread"
msgstr "仮想スレッド上でこのメソッドを呼び出すようQuarkusに指示します。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:221
#, fuzzy
msgid "Run the application in dev mode"
msgstr "アプリケーションをdevモードで実行する"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:223
#, fuzzy
msgid "Make sure that you use OpenJDK and JVM versions supporting virtual thread and launch the _dev mode_ with `./mvnw quarkus:dev`:"
msgstr "仮想スレッドをサポートするOpenJDKとJVMのバージョンを使用し、 `./mvnw quarkus:dev` で _devモードを_ 起動していることを確認してください："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:234
#, fuzzy
msgid "Must be 19+"
msgstr "19歳以上であること"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:235
#, fuzzy
msgid "Launch the dev mode"
msgstr "開発モードを起動する"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:237
#, fuzzy
msgid ""
"Then, in a browser, open http://localhost:8080.\n"
"You should get something like:"
msgstr "ブラウザで http://localhost:8080 。次のようなメッセージが表示されるはずです："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:245
#, fuzzy
msgid "As you can see, the endpoint runs on a virtual thread."
msgstr "ご覧のように、エンドポイントは仮想スレッド上で実行される。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:247
#, fuzzy
msgid "It's essential to understand what happened behind the scene:"
msgstr "舞台裏で何が起こったのかを理解することが不可欠だ："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:249
#, fuzzy
msgid "Quarkus creates the virtual thread to invoke your endpoint (because of the `@RunOnVirtualThread` annotation)."
msgstr "Quarkusは、エンドポイントを呼び出すための仮想スレッドを作成します（ `@RunOnVirtualThread` アノテーションのため）。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:250
#, fuzzy
msgid "When the code invokes the rest client, the virtual thread is blocked, BUT the carrier thread is not blocked (that's the virtual thread _magic touch_)."
msgstr "コードがレスト・クライアントを呼び出すと、仮想スレッドはブロックされるが、キャリア・スレッドはブロックされない（これが仮想スレッドの _マジック・タッチ_ だ）。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:251
#, fuzzy
msgid "Once the first invocation of the rest client completes, the virtual thread is rescheduled and continues its execution."
msgstr "レストクライアントの最初の呼び出しが完了すると、仮想スレッドは再スケジュールされ、実行を継続する。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:252
#, fuzzy
msgid "The second rest client invocation happens, and the virtual thread is blocked again (but not the carrier thread)."
msgstr "2回目のレストクライアント呼び出しが行われ、仮想スレッドは再びブロックされる（キャリアスレッドはブロックされない）。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:253
#, fuzzy
msgid "Finally, when the second invocation of the rest client completes, the virtual thread is rescheduled and continues its execution."
msgstr "最後に、レストクライアントの2回目の呼び出しが完了すると、仮想スレッドは再スケジュールされ、実行を継続する。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:254
#, fuzzy
msgid "The method returns the result. The virtual thread terminates."
msgstr "メソッドは結果を返す。仮想スレッドは終了する。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:255
#, fuzzy
msgid "The result is captured by Quarkus and written in the HTTP response"
msgstr "結果はQuarkusによってキャプチャされ、HTTPレスポンスに書き込まれます。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:257
#, fuzzy
msgid "Verify pinning using tests"
msgstr "テストによるピン止めの検証"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:259
#, fuzzy
msgid "In the `pom.xml,` we added an `argLine` argument to the surefire and failsafe plugins:"
msgstr "`pom.xml,` 、surefireとfailafeプラグインに `argLine` ："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:266
#, fuzzy
msgid ""
"The `-Djdk.tracePinnedThreads` dumps the stack trace if a virtual thread cannot be _unmounted_ smoothly (meaning that it blocks the carrier thread).\n"
"That's what we call _pinning_ (more info in xref:./virtual-threads.adoc#pinning[the virtual thread reference guide])."
msgstr "`-Djdk.tracePinnedThreads` は、仮想スレッドをスムーズに _アンマウント_ できない場合（キャリア・スレッドをブロックすることを意味する）、スタック・トレースをダンプする。これを _ピン留め（pinning_ ）と呼ぶ（詳細は xref:./virtual-threads.adoc#pinning[仮想スレッドリファレンスガイドを] 参照）。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:269
#, fuzzy
msgid ""
"We recommend enabling this flag in tests.\n"
"Thus, you can check that your application behaves correctly when using virtual threads.\n"
"Just check your log after having run the test.\n"
"If you see a stack trace... better check what's wrong.\n"
"If your code (or one of your dependencies) pins, it might be better to use regular worker thread instead."
msgstr "テストではこのフラグを有効にすることを推奨する。こうすることで、仮想スレッドを使用したときにアプリケーションが正しく動作するかどうかをチェックすることができます。テストを実行した後で、ログをチェックしてみてください。スタック・トレースが表示されたら、何が問題なのかを確認しましょう。もしあなたのコード（あるいは依存関係）がピンであれば、代わりに通常のワーカースレッドを使ったほうがいいかもしれません。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:275
#, fuzzy
msgid "Create the `src/test/java/org/acme/TheBestPlaceToBeResourceTest.java` class with the following content:"
msgstr "以下の内容で `src/test/java/org/acme/TheBestPlaceToBeResourceTest.java` クラスを作成する："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:298
#, fuzzy
msgid ""
"It is a straightforward test, but at least it will detect if our application is pinning.\n"
"Run the test with either:"
msgstr "これは簡単なテストだが、少なくともアプリケーションがピン止めされているかどうかを検出することができる。どちらかを使ってテストを実行する："

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:301
#, fuzzy
msgid "`r` in dev mode (using continuous testing)"
msgstr "`r` 開発モードで（継続的テストを使って）"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:302
#, fuzzy
msgid "`./mvnw test`"
msgstr "`./mvnw test`"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:304
#, fuzzy
msgid ""
"As you will see, it does not pin - no stack trace.\n"
"It is because the reactive REST client is implemented in a virtual-thread-friendly way."
msgstr "スタックトレースもない。これは、リアクティブRESTクライアントが仮想スレッドに適した方法で実装されているからだ。"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:307
#, fuzzy
msgid "The same approach can be used with integration tests."
msgstr "統合テストでも同じアプローチが使える。"

#. type: Title ==
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:309
msgid "Conclusion"
msgstr "まとめ"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:311
#, fuzzy
msgid ""
"This guide shows how you can use virtual threads with RESTEasy Reactive and the reactive REST client.\n"
"Learn more about virtual threads support on:"
msgstr "このガイドでは、RESTEasy Reactiveとreactive RESTクライアントで仮想スレッドを使用する方法を説明します。仮想スレッドのサポートについては"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:314
#, fuzzy
msgid "xref:./messaging-virtual-threads.adoc[@RunOnVirtualThread in messaging applications] (this guide covers Apache Kafka)"
msgstr "xref:./messaging-virtual-threads.adoc[メッセージング・アプリケーションにおける@RunOnVirtualThread] （このガイドではApache Kafkaについて説明します。）"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:315
#, fuzzy
msgid "xref:./grpc-virtual-threads.adoc[@RunOnVirtualThread in gRPC services]"
msgstr "xref:./grpc-virtual-threads.adoc[gRPCサービスの@RunOnVirtualThread]"

#. type: Plain Text
#: upstream/_guides/resteasy-reactive-virtual-threads.adoc:316
#, fuzzy
msgid "xref:./virtual-threads.adoc[the virtual thread reference guide] (include native compilation and containerization)"
msgstr "xref:./virtual-threads.adoc[仮想スレッドリファレンスガイド] （ネイティブコンパイルとコンテナ化を含む）"
